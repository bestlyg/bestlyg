(self["webpackChunkblog"]=self["webpackChunkblog"]||[]).push([[70748],{24268:function(n,e,i){"use strict";i.r(e);var l=i(96832),t=i(22131),s=i(89730),m=l.memo((n=>{n.demos;return l.createElement(l.Fragment,null,l.createElement("div",{className:"markdown"},l.createElement("h1",{id:"2104-\u5b50\u6570\u7ec4\u8303\u56f4\u548c"},l.createElement(t.AnchorLink,{to:"#2104-\u5b50\u6570\u7ec4\u8303\u56f4\u548c","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"2104. \u5b50\u6570\u7ec4\u8303\u56f4\u548c"),l.createElement("blockquote",null,l.createElement("p",null,"\u94fe\u63a5\uff1a",l.createElement(t.Link,{to:"https://leetcode-cn.com/problems/sum-of-subarray-ranges/"},"2104. \u5b50\u6570\u7ec4\u8303\u56f4\u548c"),l.createElement("br",null),"\u96be\u5ea6\uff1a\u4e2d\u7b49",l.createElement("br",null),"\u6807\u7b7e\uff1a\u6808\u3001\u6570\u7ec4\u3001\u5355\u8c03\u6808",l.createElement("br",null),"\u7b80\u4ecb\uff1a\u7ed9\u4f60\u4e00\u4e2a\u6574\u6570\u6570\u7ec4 nums \u3002nums \u4e2d\uff0c\u5b50\u6570\u7ec4\u7684 \u8303\u56f4 \u662f\u5b50\u6570\u7ec4\u4e2d\u6700\u5927\u5143\u7d20\u548c\u6700\u5c0f\u5143\u7d20\u7684\u5dee\u503c\u3002\u8fd4\u56de nums \u4e2d \u6240\u6709 \u5b50\u6570\u7ec4\u8303\u56f4\u7684 \u548c \u3002")),l.createElement("h2",{id:"\u9898\u89e3-1---c"},l.createElement(t.AnchorLink,{to:"#\u9898\u89e3-1---c","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"\u9898\u89e3 1 - c++"),l.createElement("ul",null,l.createElement("li",null,"\u7f16\u8f91\u65f6\u95f4\uff1a2022.03.04"),l.createElement("li",null,"\u6267\u884c\u7528\u65f6\uff1a12ms"),l.createElement("li",null,"\u5185\u5b58\u6d88\u8017\uff1a11.5MB"),l.createElement("li",null,"\u7f16\u7a0b\u8bed\u8a00\uff1ac++"),l.createElement("li",null,"\u89e3\u6cd5\u4ecb\u7ecd\uff1a\u5355\u8c03\u6808\uff0c\u628a\u5b50\u6570\u7ec4\u6c42\u548c\u53d8\u6362\u4e3a\uff0c\u6240\u6709\u5b50\u6570\u7ec4\u7684\u6700\u5927\u503c\u6c42\u548c\u51cf\u53bb\u6700\u5c0f\u503c\u6c42\u548c\u3002")),l.createElement(s.Z,{code:"class Solution {\n   public:\n    struct node {\n        int minl, maxl, minr, maxr, idx, num;\n    };\n    long long subArrayRanges(vector<int>& nums) {\n        long long ans = 0;\n        int n = nums.size();\n        stack<int> mins, maxs;\n        vector<node> list(n);\n        for (int i = 0; i < n; i++) {\n            list[i].idx = i;\n            list[i].num = nums[i];\n            while (mins.size() && nums[mins.top()] > nums[i]) {\n                list[mins.top()].minr = i;\n                mins.pop();\n            }\n            list[i].minl = mins.size() ? mins.top() : -1;\n            while (maxs.size() && nums[maxs.top()] < nums[i]) {\n                list[maxs.top()].maxr = i;\n                maxs.pop();\n            }\n            list[i].maxl = maxs.size() ? maxs.top() : -1;\n            mins.push(i);\n            maxs.push(i);\n        }\n        while (mins.size()) {\n            list[mins.top()].minr = n;\n            mins.pop();\n        }\n        while (maxs.size()) {\n            list[maxs.top()].maxr = n;\n            maxs.pop();\n        }\n        for (int i = 0; i < n; i++) {\n            ans += (long long)(list[i].maxr - i) * (i - list[i].maxl) *\n                   list[i].num;\n            ans -= (long long)(list[i].minr - i) * (i - list[i].minl) *\n                   list[i].num;\n        }\n        return ans;\n    }\n};",lang:"cpp"})))}));e["default"]=n=>{var e=l.useContext(t.context),i=e.demos;return l.useEffect((()=>{var e;null!==n&&void 0!==n&&null!==(e=n.location)&&void 0!==e&&e.hash&&t.AnchorLink.scrollToAnchor(decodeURIComponent(n.location.hash.slice(1)))}),[]),l.createElement(m,{demos:i})}}}]);