(self["webpackChunkblog"]=self["webpackChunkblog"]||[]).push([[12954],{40138:function(e,n,t){"use strict";t.r(n);var i=t(96832),c=t(22131),r=t(89730),a=i.memo((e=>{e.demos;return i.createElement(i.Fragment,null,i.createElement("div",{className:"markdown"},i.createElement("h1",{id:"2045-\u5230\u8fbe\u76ee\u7684\u5730\u7684\u7b2c\u4e8c\u77ed\u65f6\u95f4"},i.createElement(c.AnchorLink,{to:"#2045-\u5230\u8fbe\u76ee\u7684\u5730\u7684\u7b2c\u4e8c\u77ed\u65f6\u95f4","aria-hidden":"true",tabIndex:-1},i.createElement("span",{className:"icon icon-link"})),"2045. \u5230\u8fbe\u76ee\u7684\u5730\u7684\u7b2c\u4e8c\u77ed\u65f6\u95f4"),i.createElement("blockquote",null,i.createElement("p",null,"\u94fe\u63a5\uff1a",i.createElement(c.Link,{to:"https://leetcode-cn.com/problems/second-minimum-time-to-reach-destination/"},"2045. \u5230\u8fbe\u76ee\u7684\u5730\u7684\u7b2c\u4e8c\u77ed\u65f6\u95f4"),i.createElement("br",null),"\u96be\u5ea6\uff1a\u56f0\u96be",i.createElement("br",null),"\u6807\u7b7e\uff1a\u5e7f\u5ea6\u4f18\u5148\u641c\u7d22\u3001\u56fe\u3001\u6700\u77ed\u8def",i.createElement("br",null),"\u7b80\u4ecb\uff1a\u7ed9\u4f60 n\u3001edges\u3001time \u548c change \uff0c\u8fd4\u56de\u4ece\u8282\u70b9 1 \u5230\u8282\u70b9 n \u9700\u8981\u7684 \u7b2c\u4e8c\u77ed\u65f6\u95f4 \u3002")),i.createElement("h2",{id:"\u9898\u89e3-1---typescript"},i.createElement(c.AnchorLink,{to:"#\u9898\u89e3-1---typescript","aria-hidden":"true",tabIndex:-1},i.createElement("span",{className:"icon icon-link"})),"\u9898\u89e3 1 - typescript"),i.createElement("ul",null,i.createElement("li",null,"\u7f16\u8f91\u65f6\u95f4\uff1a2022.01.24"),i.createElement("li",null,"\u6267\u884c\u7528\u65f6\uff1a400ms"),i.createElement("li",null,"\u5185\u5b58\u6d88\u8017\uff1a67.8MB"),i.createElement("li",null,"\u7f16\u7a0b\u8bed\u8a00\uff1atypescript"),i.createElement("li",null,"\u89e3\u6cd5\u4ecb\u7ecd\uff1abfs\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u8282\u70b9\u8bb0\u5f55\u5df2\u7ecf\u904d\u5386\u8fc7\u7684\u503c\uff0c\u8fdb\u884c\u526a\u679d\u3002")),i.createElement(r.Z,{code:"class Node {\n  next: Node[] = [];\n  min_time1 = Infinity;\n  min_time2 = Infinity;\n  constructor(public idx: number) {}\n}\nclass Car {\n  constructor(public current: Node, public time = 0) {}\n}\nfunction secondMinimum(n: number, edges: number[][], time: number, change: number): number {\n  const nodes: Record<number, Node> = {};\n  for (let i = 1; i <= n; i++) nodes[i] = new Node(i);\n  for (const [n1, n2] of edges) {\n    const node1 = nodes[n1];\n    const node2 = nodes[n2];\n    node1.next.push(node2);\n    node2.next.push(node1);\n  }\n  nodes[1].min_time1 = 0;\n  const queue: Car[] = [new Car(nodes[1])];\n  const arr: Car[] = [];\n  while (queue.length) {\n    const car = queue.shift()!;\n    const wait_check = Math.floor(car.time / change);\n    const next_time = wait_check % 2 === 0 ? car.time + time : (wait_check + 1) * change + time;\n    for (const next of car.current.next) {\n      if (next_time < next.min_time1) {\n        const ncar = new Car(next, next_time);\n        next.min_time1 = next_time;\n        if (next === nodes[n]) {\n          arr.push(ncar);\n          continue;\n        }\n        queue.push(ncar);\n      } else if (next_time > next.min_time1 && next_time < next.min_time2) {\n        const ncar = new Car(next, next_time);\n        next.min_time2 = next_time;\n        if (next === nodes[n]) {\n          arr.push(ncar);\n          continue;\n        }\n        queue.push(ncar);\n      }\n    }\n  }\n  arr.sort((a, b) => a.time - b.time);\n  const min_car = arr[0];\n  let min21_car: Car | null = null;\n  for (let i = 1; i < arr.length; i++) {\n    if (arr[i].time !== min_car.time) {\n      min21_car = arr[i];\n      break;\n    }\n  }\n  const min22 = getNext(min_car);\n  return Math.min(min21_car?.time ?? Infinity, min22);\n  function getNext(car: Car): number {\n    // \u56de\u53bb\n    let wait_check = Math.floor(car.time / change);\n    let next_time = wait_check % 2 === 0 ? car.time + time : (wait_check + 1) * change + time;\n    // \u56de\u6765\n    wait_check = Math.floor(next_time / change);\n    next_time = wait_check % 2 === 0 ? next_time + time : (wait_check + 1) * change + time;\n    return next_time;\n  }\n}",lang:"typescript"})))}));n["default"]=e=>{var n=i.useContext(c.context),t=n.demos;return i.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&c.AnchorLink.scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.createElement(a,{demos:t})}}}]);