(self["webpackChunkblog"]=self["webpackChunkblog"]||[]).push([[99303],{70907:function(n,e,t){"use strict";t.r(e);var r=t(96832),l=t(22131),i=t(89730),c=r.memo((n=>{n.demos;return r.createElement(r.Fragment,null,r.createElement("div",{className:"markdown"},r.createElement("h1",{id:"1670-\u8bbe\u8ba1\u524d\u4e2d\u540e\u961f\u5217"},r.createElement(l.AnchorLink,{to:"#1670-\u8bbe\u8ba1\u524d\u4e2d\u540e\u961f\u5217","aria-hidden":"true",tabIndex:-1},r.createElement("span",{className:"icon icon-link"})),"1670. \u8bbe\u8ba1\u524d\u4e2d\u540e\u961f\u5217"),r.createElement("blockquote",null,r.createElement("p",null,"\u94fe\u63a5\uff1a",r.createElement(l.Link,{to:"https://leetcode-cn.com/problems/design-front-middle-back-queue/"},"1670. \u8bbe\u8ba1\u524d\u4e2d\u540e\u961f\u5217"),r.createElement("br",null),"\u96be\u5ea6\uff1a\u4e2d\u7b49",r.createElement("br",null),"\u6807\u7b7e\uff1a\u8bbe\u8ba1\u3001\u94fe\u8868",r.createElement("br",null),"\u7b80\u4ecb\uff1a\u8bf7\u4f60\u8bbe\u8ba1\u4e00\u4e2a\u961f\u5217\uff0c\u652f\u6301\u5728\u524d\uff0c\u4e2d\uff0c\u540e\u4e09\u4e2a\u4f4d\u7f6e\u7684 push \u548c pop \u64cd\u4f5c\u3002")),r.createElement("h2",{id:"\u9898\u89e3-1---typescript"},r.createElement(l.AnchorLink,{to:"#\u9898\u89e3-1---typescript","aria-hidden":"true",tabIndex:-1},r.createElement("span",{className:"icon icon-link"})),"\u9898\u89e3 1 - typescript"),r.createElement("ul",null,r.createElement("li",null,"\u7f16\u8f91\u65f6\u95f4\uff1a2021.3.14"),r.createElement("li",null,"\u6267\u884c\u7528\u65f6\uff1a144ms"),r.createElement("li",null,"\u5185\u5b58\u6d88\u8017\uff1a45.1MB"),r.createElement("li",null,"\u7f16\u7a0b\u8bed\u8a00\uff1atypescript"),r.createElement("li",null,"\u89e3\u6cd5\u4ecb\u7ecd\uff1a\u5229\u7528\u4e24\u4e2a\u6570\u7ec4\u7ef4\u62a4\u4e2d\u95f4\u503c\u3002")),r.createElement(i.Z,{code:"class FrontMiddleBackQueue {\n  get frontLen() {\n    return this.front.length;\n  }\n  get backLen() {\n    return this.back.length;\n  }\n  get len() {\n    return this.frontLen + this.backLen;\n  }\n  private front: number[] = [];\n  private back: number[] = [];\n  pushFront(val: number): void {\n    this.front.unshift(val);\n    this.check();\n  }\n  pushMiddle(val: number): void {\n    this.front.push(val);\n    this.check();\n  }\n  pushBack(val: number): void {\n    this.back.push(val);\n    this.check();\n  }\n  popFront(): number {\n    if (this.len === 0) return -1;\n    const num = this.frontLen === 0 ? this.back.shift()! : this.front.shift()!;\n    this.check();\n    return num;\n  }\n  popMiddle(): number {\n    if (this.len === 0) return -1;\n    const num = this.frontLen === 0 || this.len & 1 ? this.back.shift()! : this.front.pop()!;\n    this.check();\n    return num;\n  }\n  popBack(): number {\n    if (this.len === 0) return -1;\n    const num = this.backLen === 0 ? this.front.pop()! : this.back.pop()!;\n    this.check();\n    return num;\n  }\n  private check() {\n    if (this.frontLen > this.backLen) {\n      this.back.unshift(this.front.pop()!);\n    }\n    if (this.backLen > this.frontLen + 1) {\n      this.front.push(this.back.shift()!);\n    }\n  }\n}",lang:"typescript"}),r.createElement("h2",{id:"\u9898\u89e3-2---c"},r.createElement(l.AnchorLink,{to:"#\u9898\u89e3-2---c","aria-hidden":"true",tabIndex:-1},r.createElement("span",{className:"icon icon-link"})),"\u9898\u89e3 2 - c++"),r.createElement("ul",null,r.createElement("li",null,"\u7f16\u8f91\u65f6\u95f4\uff1a2022.03.03"),r.createElement("li",null,"\u6267\u884c\u7528\u65f6\uff1a28ms"),r.createElement("li",null,"\u5185\u5b58\u6d88\u8017\uff1a20.4MB"),r.createElement("li",null,"\u7f16\u7a0b\u8bed\u8a00\uff1ac++"),r.createElement("li",null,"\u89e3\u6cd5\u4ecb\u7ecd\uff1a\u7ef4\u62a4\u4e24\u4e2a\u53cc\u7aef\u961f\u5217\u3002")),r.createElement(i.Z,{code:"class FrontMiddleBackQueue {\n   public:\n    deque<int> q1, q2;\n    FrontMiddleBackQueue() {}\n    void balance() {\n        if (empty()) return;\n        while (q1.size() > q2.size()) {\n            q2.push_front(q1.back());\n            q1.pop_back();\n        }\n        while (q1.size() < q2.size() - 1) {\n            q1.push_back(q2.front());\n            q2.pop_front();\n        }\n    }\n    void pushFront(int val) {\n        q1.push_front(val);\n        balance();\n    }\n    void pushMiddle(int val) {\n        if (q1.size() == q2.size())\n            q1.push_back(val);\n        else\n            q2.push_front(val);\n        balance();\n    }\n    void pushBack(int val) {\n        q2.push_back(val);\n        balance();\n    }\n    int popFront() {\n        if (empty()) return -1;\n        int res;\n        if (q1.size()) {\n            res = q1.front();\n            q1.pop_front();\n        } else {\n            res = q2.front();\n            q2.pop_front();\n        }\n        balance();\n        return res;\n    }\n    int popMiddle() {\n        if (empty()) return -1;\n        int res;\n        if (q1.size() == q2.size()) {\n            res = q1.back();\n            q1.pop_back();\n        } else {\n            res = q2.front();\n            q2.pop_front();\n        }\n        balance();\n        return res;\n    }\n    int popBack() {\n        if (empty()) return -1;\n        int res = q2.back();\n        q2.pop_back();\n        balance();\n        return res;\n    }\n    int empty() { return q1.size() + q2.size() == 0; }\n};",lang:"cpp"})))}));e["default"]=n=>{var e=r.useContext(l.context),t=e.demos;return r.useEffect((()=>{var e;null!==n&&void 0!==n&&null!==(e=n.location)&&void 0!==e&&e.hash&&l.AnchorLink.scrollToAnchor(decodeURIComponent(n.location.hash.slice(1)))}),[]),r.createElement(c,{demos:t})}}}]);