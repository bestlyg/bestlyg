(self["webpackChunkblog"]=self["webpackChunkblog"]||[]).push([[89387],{4913:function(e,n,t){"use strict";t.r(n);var l=t(96832),i=t(22131),r=t(89730),c=l.memo((e=>{e.demos;return l.createElement(l.Fragment,null,l.createElement("div",{className:"markdown"},l.createElement("h1",{id:"123-\u4e70\u5356\u80a1\u7968\u7684\u6700\u4f73\u65f6\u673a-iii"},l.createElement(i.AnchorLink,{to:"#123-\u4e70\u5356\u80a1\u7968\u7684\u6700\u4f73\u65f6\u673a-iii","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"123. \u4e70\u5356\u80a1\u7968\u7684\u6700\u4f73\u65f6\u673a III"),l.createElement("blockquote",null,l.createElement("p",null,"\u94fe\u63a5\uff1a",l.createElement(i.Link,{to:"https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iii/"},"123. \u4e70\u5356\u80a1\u7968\u7684\u6700\u4f73\u65f6\u673a III"),l.createElement("br",null),"\u96be\u5ea6\uff1a\u56f0\u96be",l.createElement("br",null),"\u6807\u7b7e\uff1a\u6570\u7ec4\u3001\u52a8\u6001\u89c4\u5212",l.createElement("br",null),"\u7b80\u4ecb\uff1a\u7ed9\u5b9a\u4e00\u4e2a\u6570\u7ec4\uff0c\u5b83\u7684\u7b2c i \u4e2a\u5143\u7d20\u662f\u4e00\u652f\u7ed9\u5b9a\u7684\u80a1\u7968\u5728\u7b2c i \u5929\u7684\u4ef7\u683c\u3002\u8bbe\u8ba1\u4e00\u4e2a\u7b97\u6cd5\u6765\u8ba1\u7b97\u4f60\u6240\u80fd\u83b7\u53d6\u7684\u6700\u5927\u5229\u6da6\u3002\u4f60\u6700\u591a\u53ef\u4ee5\u5b8c\u6210 \u4e24\u7b14 \u4ea4\u6613\u3002")),l.createElement("h2",{id:"\u9898\u89e3-1---typescript"},l.createElement(i.AnchorLink,{to:"#\u9898\u89e3-1---typescript","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"\u9898\u89e3 1 - typescript"),l.createElement("ul",null,l.createElement("li",null,"\u7f16\u8f91\u65f6\u95f4\uff1a2021.1.9"),l.createElement("li",null,"\u6267\u884c\u7528\u65f6\uff1a1028ms"),l.createElement("li",null,"\u5185\u5b58\u6d88\u8017\uff1a85.4MB"),l.createElement("li",null,"\u7f16\u7a0b\u8bed\u8a00\uff1atypescript"),l.createElement("li",null,"\u89e3\u6cd5\u4ecb\u7ecd\uff1a\u52a8\u6001\u89c4\u5212\u8ba1\u7b97\u6bcf\u4e2a\u72b6\u6001\u3002")),l.createElement(r.Z,{code:"function maxProfit(prices: number[]): number {\n  const len = prices.length;\n  if (len < 2) return 0;\n  // 0 \u624b\u4e0a\u6ca1\uff0c1 \u624b\u4e0a\u6709\n  // 0 \u5b8c\u62100\u6b21\u4ea4\u6613 1 \u5b8c\u62101\u6b21\u4ea4\u6613 2 \u5b8c\u6210\u4e24\u6b21\u4ea4\u6613\n  const dp: number[][][] = new Array(len)\n    .fill(0)\n    .map(_ => new Array(2).fill(0).map(_ => new Array(3).fill(-Infinity)));\n  [dp[0][0][0], dp[0][1][0]] = [0, -prices[0]];\n  for (let i = 1; i < len; i++) {\n    dp[i][0][0] = dp[i - 1][0][0];\n    dp[i][0][1] = Math.max(prices[i] + dp[i - 1][1][0], dp[i - 1][0][1]);\n    dp[i][0][2] = i >= 3 ? Math.max(prices[i] + dp[i - 1][1][1], dp[i - 1][0][2]) : 0;\n    dp[i][1][0] = Math.max(dp[i - 1][1][0], -prices[i]);\n    dp[i][1][1] = Math.max(dp[i - 1][1][1], dp[i - 1][0][1] - prices[i]);\n    dp[i][1][2] = 0;\n  }\n  return Math.max(dp[len - 1][0][2], dp[len - 1][0][1]);\n}",lang:"typescript"}),l.createElement("h2",{id:"\u9898\u89e3-2---typescript"},l.createElement(i.AnchorLink,{to:"#\u9898\u89e3-2---typescript","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"\u9898\u89e3 2 - typescript"),l.createElement("ul",null,l.createElement("li",null,"\u7f16\u8f91\u65f6\u95f4\uff1a2021.1.9"),l.createElement("li",null,"\u6267\u884c\u7528\u65f6\uff1a984ms"),l.createElement("li",null,"\u5185\u5b58\u6d88\u8017\uff1a86.9mb"),l.createElement("li",null,"\u7f16\u7a0b\u8bed\u8a00\uff1atypescript"),l.createElement("li",null,"\u89e3\u6cd5\u4ecb\u7ecd\uff1a\u4f18\u5316\u9898\u89e3 1\u3002")),l.createElement(r.Z,{code:"function maxProfit(prices: number[]): number {\n  const len = prices.length;\n  if (len < 2) return 0;\n  // 0 \u624b\u4e0a\u6ca1\uff0c1 \u624b\u4e0a\u6709\n  // 0 \u5b8c\u62100\u6b21\u4ea4\u6613 1 \u5b8c\u62101\u6b21\u4ea4\u6613 2 \u5b8c\u6210\u4e24\u6b21\u4ea4\u6613\n  const dp: number[][][] = new Array(len)\n    .fill(0)\n    .map(_ => new Array(2).fill(0).map(_ => new Array(3).fill(-Infinity)));\n  [dp[0][0][0], dp[0][1][0]] = [0, -prices[0]];\n  for (let i = 1; i < len; i++) {\n    const prev = dp[i - 1];\n    const prev0 = prev[0];\n    const prev1 = prev[1];\n    const price = prices[i];\n    [dp[i][0][1], dp[i][0][2], dp[i][1][0], dp[i][1][1]] = [\n      Math.max(price + prev1[0], prev0[1]),\n      i >= 3 ? Math.max(price + prev1[1], prev0[2]) : 0,\n      Math.max(prev1[0], -price),\n      Math.max(prev1[1], prev0[1] - price),\n    ];\n  }\n  return Math.max(dp[len - 1][0][2], dp[len - 1][0][1]);\n}",lang:"typescript"}),l.createElement("h2",{id:"\u9898\u89e3-3---typescript"},l.createElement(i.AnchorLink,{to:"#\u9898\u89e3-3---typescript","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"\u9898\u89e3 3 - typescript"),l.createElement("ul",null,l.createElement("li",null,"\u7f16\u8f91\u65f6\u95f4\uff1a2021.1.9"),l.createElement("li",null,"\u6267\u884c\u7528\u65f6\uff1a1008ms"),l.createElement("li",null,"\u5185\u5b58\u6d88\u8017\uff1a82.7mb"),l.createElement("li",null,"\u7f16\u7a0b\u8bed\u8a00\uff1atypescript"),l.createElement("li",null,"\u89e3\u6cd5\u4ecb\u7ecd\uff1a\u4f18\u5316\u9898\u89e3 1\u3002")),l.createElement(r.Z,{code:"function maxProfit(prices: number[]): number {\n  const len = prices.length;\n  if (len < 2) return 0;\n  // 0 \u624b\u4e0a\u6ca1\uff0c1 \u624b\u4e0a\u6709\n  // 0 \u5b8c\u62100\u6b21\u4ea4\u6613 1 \u5b8c\u62101\u6b21\u4ea4\u6613 2 \u5b8c\u6210\u4e24\u6b21\u4ea4\u6613\n  const dp: number[][][] = new Array(len)\n    .fill(0)\n    .map(_ => new Array(2).fill(0).map(_ => new Array(3).fill(-Infinity)));\n  [dp[0][0][0], dp[0][1][0]] = [0, -prices[0]];\n  let [dp01, dp02, dp10, dp11] = [-Infinity, -Infinity, -prices[0], -Infinity];\n  for (let i = 1; i < len; i++) {\n    const price = prices[i];\n    [dp01, dp02, dp10, dp11] = [\n      Math.max(price + dp10, dp01),\n      i >= 3 ? Math.max(price + dp11, dp02) : 0,\n      Math.max(dp10, -price),\n      Math.max(dp11, dp01 - price),\n    ];\n  }\n  return Math.max(dp01, dp02);\n}\n// 6\nconsole.log(maxProfit([3, 3, 5, 0, 0, 3, 1, 4]));\n// 4\nconsole.log(maxProfit([1, 2, 3, 4, 5]));\n// 0\nconsole.log(maxProfit([2, 1, 4]));",lang:"typescript"})))}));n["default"]=e=>{var n=l.useContext(i.context),t=n.demos;return l.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&i.AnchorLink.scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),l.createElement(c,{demos:t})}}}]);