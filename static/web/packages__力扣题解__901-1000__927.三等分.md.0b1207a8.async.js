(self["webpackChunkblog"]=self["webpackChunkblog"]||[]).push([[82211],{70585:function(e,n,r){"use strict";r.r(n);var t=r(96832),i=r(22131),a=r(89730),l=t.memo((e=>{e.demos;return t.createElement(t.Fragment,null,t.createElement("div",{className:"markdown"},t.createElement("h1",{id:"927-\u4e09\u7b49\u5206"},t.createElement(i.AnchorLink,{to:"#927-\u4e09\u7b49\u5206","aria-hidden":"true",tabIndex:-1},t.createElement("span",{className:"icon icon-link"})),"927. \u4e09\u7b49\u5206"),t.createElement("blockquote",null,t.createElement("p",null,"\u94fe\u63a5\uff1a",t.createElement(i.Link,{to:"https://leetcode.cn/problems/three-equal-parts/"},"927. \u4e09\u7b49\u5206"),t.createElement("br",null),"\u96be\u5ea6\uff1a\u56f0\u96be",t.createElement("br",null),"\u6807\u7b7e\uff1a\u6570\u7ec4\u3001\u6570\u5b66",t.createElement("br",null),"\u7b80\u4ecb\uff1a\u7ed9\u5b9a\u4e00\u4e2a\u7531 0 \u548c 1 \u7ec4\u6210\u7684\u6570\u7ec4 arr \uff0c\u5c06\u6570\u7ec4\u5206\u6210 3 \u4e2a\u975e\u7a7a\u7684\u90e8\u5206 \uff0c\u4f7f\u5f97\u6240\u6709\u8fd9\u4e9b\u90e8\u5206\u8868\u793a\u76f8\u540c\u7684\u4e8c\u8fdb\u5236\u503c\u3002")),t.createElement("h2",{id:"\u9898\u89e3-1---cpp"},t.createElement(i.AnchorLink,{to:"#\u9898\u89e3-1---cpp","aria-hidden":"true",tabIndex:-1},t.createElement("span",{className:"icon icon-link"})),"\u9898\u89e3 1 - cpp"),t.createElement("ul",null,t.createElement("li",null,"\u7f16\u8f91\u65f6\u95f4\uff1a2022.10.06"),t.createElement("li",null,"\u6267\u884c\u7528\u65f6\uff1a296ms"),t.createElement("li",null,"\u5185\u5b58\u6d88\u8017\uff1a39.3MB"),t.createElement("li",null,"\u7f16\u7a0b\u8bed\u8a00\uff1acpp"),t.createElement("li",null,"\u89e3\u6cd5\u4ecb\u7ecd\uff1akmp \u65b9\u5f0f\u5bfb\u627e\u524d\u540e\u7f00\u3002")),t.createElement(a.Z,{code:"class Solution {\npublic:\n    vector<int> threeEqualParts(vector<int>& arr) {\n        int n = arr.size(), prefix0 = 0;\n        for (int i = 0; i < n && arr[i] == 0; i++) prefix0++; // \u627e\u5230\u524d\u7f00\u6709\u51e0\u4e2a0\n        vector<int> ans(2, -1), next;\n        if (prefix0 == n) { // \u4f18\u5316\u51680\u7684\u60c5\u51b5\n            ans[0] = 0;\n            ans[1] = 2;\n            return ans;\n        }\n        arr.erase(arr.begin(), arr.begin() + prefix0); // \u6392\u9664\u524d\u7f000\n        n = arr.size();\n        next = getNext(arr); // \u5229\u7528kmp\u627e\u5230\u76f8\u540c\u90e8\u5206\n        // [0, next[cur]]     : \u7b2c\u4e00\u90e8\u5206\n        // [next[cur] + 1, i] : \u7b2c\u4e8c\u90e8\u5206\n        // [i + 1, size() - 1]: \u7b2c\u4e09\u90e8\u5206\n        for (int i = n - 2; i > 0; i--) {\n            int cur = i;\n            bool f = false;\n            while (next[cur] != -1 && !f) f = check(arr, ans, prefix0, next[cur], i + 1), cur = next[cur];\n            if (f) break;\n        }\n        return ans;\n    }\n    vector<int> getNext(vector<int> &arr) {\n        vector<int> next(arr.size(), -1);\n        for (int i = 1, j = -1; i < arr.size(); i++) {\n            while (j >= 0 && arr[i] != arr[j + 1]) j = next[j];\n            if (arr[j + 1] == arr[i]) j++;\n            next[i] = j;\n        }\n        return next;\n    }\n    bool check(vector<int> &arr, vector<int> &ans, int &prefix0, int s1, int s2) {\n        int i1 = s1, i2 = s2 - 1, i3 = arr.size() - 1;\n        // \u4ece\u540e\u5f80\u524d\u4f9d\u6b21\u6bd4\u8f83\n        while (i1 >= 0 && i2 >= s1 + 1 && i3 >= s2) {\n            if (arr[i1] == arr[i2] && arr[i2] == arr[i3]) --i1, --i2, --i3;\n            else return false;\n        }\n        // \u5f53\u4e00\u4e2a\u90e8\u5206\u89e3\u6790\u5b8c\u540e\uff0c\u5224\u65ad\u5269\u4f59\u662f\u4e0d\u662f\u90fd\u662f0\n        while (i1 >= 0 && arr[i1] == 0) --i1;\n        while (i2 >= s1 + 1 && arr[i2] == 0) --i2;\n        while (i3 >= s2 && arr[i3] == 0) --i3;\n        if (i1 != 0 - 1 || i2 != s1 || i3 != s2 - 1) return false;\n        ans[0] = s1 + prefix0;\n        ans[1] = s2 + prefix0;\n        return true;\n    }\n};",lang:"cpp"})))}));n["default"]=e=>{var n=t.useContext(i.context),r=n.demos;return t.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&i.AnchorLink.scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),t.createElement(l,{demos:r})}}}]);