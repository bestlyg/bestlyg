(self["webpackChunkblog"]=self["webpackChunkblog"]||[]).push([[28511],{53740:function(e,n,t){"use strict";t.r(n);var i=t(96832),s=t(22131),r=t(89730),l=i.memo((e=>{e.demos;return i.createElement(i.Fragment,null,i.createElement("div",{className:"markdown"},i.createElement("h1",{id:"\u4e8c\u53c9\u5806binaryheap"},i.createElement(s.AnchorLink,{to:"#\u4e8c\u53c9\u5806binaryheap","aria-hidden":"true",tabIndex:-1},i.createElement("span",{className:"icon icon-link"})),"\u4e8c\u53c9\u5806(BinaryHeap)"),i.createElement("p",null,"\u4f7f\u7528\u5b8c\u5168\u4e8c\u53c9\u6811\u5b9e\u73b0\u5806\u7ed3\u6784\uff0c\u53c8\u79f0\u5b8c\u5168\u4e8c\u53c9\u5806\uff0c\u4e00\u822c\u4f7f\u7528\u6570\u7ec4\u5b9e\u73b0"),i.createElement("ul",null,i.createElement("li",null,"\u5bf9\u4e8e\u6839\u8282\u70b9\u4e0b\u6807\u662f 0 \u7684\u5143\u7d20"),i.createElement("li",null,"\u7236\u8282\u70b9\u4e3a(i-1)>>1"),i.createElement("li",null,"\u5de6\u5b50\u8282\u70b9\u4e3a 2*i+1"),i.createElement("li",null,"\u53f3\u5b50\u8282\u70b9\u4e3a 2*i+2")),i.createElement("h2",{id:"\u6838\u5fc3\u4ee3\u7801"},i.createElement(s.AnchorLink,{to:"#\u6838\u5fc3\u4ee3\u7801","aria-hidden":"true",tabIndex:-1},i.createElement("span",{className:"icon icon-link"})),i.createElement(s.Link,{to:"https://gitee.com/bestlyg/bestlyg/tree/master/packages/data-structures/src/heap/binaryHeap.ts"},"\u6838\u5fc3\u4ee3\u7801")),i.createElement(r.Z,{code:"import { Comparator, ErrorEnum, ERROR_EMPTY_ELEMENT, throwError } from '@/shared';\n\nexport interface IBinaryHeap<T> {\n  /* \u5f53\u524d\u94fe\u8868\u542b\u6709\u7684\u8282\u70b9\u6570  */\n  size: number;\n  /* \u83b7\u53d6\u5806\u9876\u5143\u7d20 */\n  top(): T;\n  /* \u5f80\u5806\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u5143\u7d20 */\n  add(val: T): void;\n  /* \u4ece\u5806\u9876\u5220\u9664\u4e00\u4e2a\u5143\u7d20 */\n  remove(): T;\n}\nexport class BinaryHeap<T> implements IBinaryHeap<T> {\n  get size() {\n    return this.list.length;\n  }\n  private list: T[] = [];\n  constructor(private compare: Comparator<T>) {}\n  top() {\n    this.checkRange();\n    return this.list[0];\n  }\n  add(val: T): void {\n    this.list.push(val);\n    this.shiftUp(this.size - 1);\n  }\n  remove(): T {\n    this.checkRange();\n    const val = this.list.shift()!;\n    if (this.size !== 0) {\n      this.list.unshift(this.list.pop()!);\n      this.shiftDown(0);\n    }\n    return val;\n  }\n  private shiftUp(index: number): void {\n    if (index === 0) return;\n    const parentIndex = (index - 1) >> 1;\n    if (this.compare(this.list[index], this.list[parentIndex]) > 0) {\n      [this.list[index], this.list[parentIndex]] = [this.list[parentIndex], this.list[index]];\n      this.shiftUp(parentIndex);\n    }\n  }\n  private shiftDown(index: number): void {\n    let childIndex = index * 2 + 1;\n    if (childIndex >= this.size) return;\n    if (\n      childIndex + 1 < this.size &&\n      this.compare(this.list[childIndex + 1], this.list[childIndex]) > 0\n    )\n      childIndex++;\n    if (this.compare(this.list[childIndex], this.list[index]) > 0) {\n      [this.list[index], this.list[childIndex]] = [this.list[childIndex], this.list[index]];\n      this.shiftDown(childIndex);\n    }\n  }\n  private checkRange() {\n    this.size === 0 && throwError(ERROR_EMPTY_ELEMENT, ErrorEnum.range);\n  }\n}",lang:"ts"})))}));n["default"]=e=>{var n=i.useContext(s.context),t=n.demos;return i.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&s.AnchorLink.scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.createElement(l,{demos:t})}}}]);