(self["webpackChunkblog"]=self["webpackChunkblog"]||[]).push([[35222],{14685:function(n,e,t){"use strict";t.r(e);var o=t(96832),i=t(22131),l=t(89730),a=o.memo((n=>{n.demos;return o.createElement(o.Fragment,null,o.createElement("div",{className:"markdown"},o.createElement("h1",{id:"\u5e76\u67e5\u96c6unionfindset"},o.createElement(i.AnchorLink,{to:"#\u5e76\u67e5\u96c6unionfindset","aria-hidden":"true",tabIndex:-1},o.createElement("span",{className:"icon icon-link"})),"\u5e76\u67e5\u96c6(UnionFindSet)"),o.createElement("p",null,"\u4e5f\u53eb\u505a\u4e0d\u76f8\u4ea4\u96c6\u5408(Disjoint Set)"),o.createElement("h2",{id:"\u4e24\u4e2a\u6838\u5fc3\u64cd\u4f5c"},o.createElement(i.AnchorLink,{to:"#\u4e24\u4e2a\u6838\u5fc3\u64cd\u4f5c","aria-hidden":"true",tabIndex:-1},o.createElement("span",{className:"icon icon-link"})),"\u4e24\u4e2a\u6838\u5fc3\u64cd\u4f5c"),o.createElement("ul",null,o.createElement("li",null,"\u67e5\u627e(Find):\u67e5\u627e\u5143\u7d20\u6240\u5728\u7684\u96c6\u5408(\u6307\u5e7f\u4e49\u7684\u6570\u636e\u96c6\u5408)"),o.createElement("li",null,"\u5408\u5e76(Union):\u5c06\u4e24\u4e2a\u5143\u7d20\u6240\u5728\u7684\u96c6\u5408\u5408\u5e76\u4e3a\u4e00\u4e2a\u96c6\u5408")),o.createElement("h2",{id:"\u4e24\u79cd\u5e38\u89c1\u901f\u5f55"},o.createElement(i.AnchorLink,{to:"#\u4e24\u79cd\u5e38\u89c1\u901f\u5f55","aria-hidden":"true",tabIndex:-1},o.createElement("span",{className:"icon icon-link"})),"\u4e24\u79cd\u5e38\u89c1\u901f\u5f55"),o.createElement("ol",null,o.createElement("li",null,"Quick Find \u67e5\u627e(Find) \u65f6\u95f4\u590d\u6742\u5ea6:O(1) \u5408\u5e76(Union) \u65f6\u95f4\u590d\u6742\u5ea6:O(n)"),o.createElement("li",null,"Quick Union \u67e5\u627e(Find) \u65f6\u95f4\u590d\u6742\u5ea6:O(logn) \u5408\u5e76(Union) \u65f6\u95f4\u590d\u6742\u5ea6:O(logn)")),o.createElement("h2",{id:"\u6838\u5fc3\u4ee3\u7801"},o.createElement(i.AnchorLink,{to:"#\u6838\u5fc3\u4ee3\u7801","aria-hidden":"true",tabIndex:-1},o.createElement("span",{className:"icon icon-link"})),o.createElement(i.Link,{to:"https://gitee.com/bestlyg/bestlyg/tree/master/packages/data-structures/src/unionFindSet/unionFindSet.ts"},"\u6838\u5fc3\u4ee3\u7801")),o.createElement(l.Z,{code:"/**\n * \u5e76\u67e5\u96c6\u8282\u70b9\n */\nexport class UnionFindSetNode<T> {\n  /** \u6240\u5f15\u7528\u5f97\u8282\u70b9\u6570 */\n  size = 1;\n  /** \u7236\u8282\u70b9 */\n  parent: UnionFindSetNode<T> = this;\n  constructor(public val: T) {}\n}\nexport class UnionFindSet<T> {\n  private _size = 0;\n  /** \u5305\u542b\u7684\u96c6\u5408\u6570 */\n  get size() {\n    return this._size;\n  }\n  /** \u96c6\u5408\u50a8\u5b58 */\n  map = new Map<T, UnionFindSetNode<T>>();\n  /** \u6dfb\u52a0\u65b0\u8282\u70b9 */\n  add(val: T) {\n    if (this.map.has(val)) return;\n    this.map.set(val, new UnionFindSetNode(val));\n    this._size++;\n  }\n  /** \u6bd4\u8f83\u4e24\u4e2a\u8282\u70b9\u662f\u5426\u5c5e\u4e8e\u540c\u4e00\u8282\u70b9 */\n  same(val1: T, val2: T) {\n    const root1 = this.find(val1);\n    const root2 = this.find(val2);\n    return root1 && root2 ? root1 === root2 : false;\n  }\n  /** \u67e5\u627e\u8282\u70b9\u7684\u6839\u8282\u70b9 */\n  find(val: T): T | null {\n    return this.findRoot(val)?.val ?? null;\n  }\n  /** \u5408\u5e76\u4e24\u4e2a\u8282\u70b9 */\n  union(val1: T, val2: T) {\n    let root1: UnionFindSetNode<T> = this.findRoot(val1)!;\n    let root2: UnionFindSetNode<T> = this.findRoot(val2)!;\n    if (!root1 || !root2 || root1 === root2) return;\n    this._size--;\n    if (root1.size < root2.size) [root1, root2] = [root2, root1];\n    root2.parent = root1;\n    root1.size += root2.size;\n    root2.size = 1;\n  }\n  private findRoot(val: T): UnionFindSetNode<T> | null {\n    let node: UnionFindSetNode<T> = this.map.get(val)!;\n    if (!node) return null;\n    while (node.parent !== node) {\n      node.parent = node.parent.parent;\n      node = node.parent;\n    }\n    return node;\n  }\n}",lang:"ts"})))}));e["default"]=n=>{var e=o.useContext(i.context),t=e.demos;return o.useEffect((()=>{var e;null!==n&&void 0!==n&&null!==(e=n.location)&&void 0!==e&&e.hash&&i.AnchorLink.scrollToAnchor(decodeURIComponent(n.location.hash.slice(1)))}),[]),o.createElement(a,{demos:t})}}}]);