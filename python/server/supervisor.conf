[program:app] ; ç¨‹åºåç§°ï¼Œåœ¨ supervisorctl ä¸­é€šè¿‡è¿™ä¸ªå€¼æ¥å¯¹ç¨‹åºè¿›è¡Œä¸€ç³»åˆ—çš„æ“ä½œ
autorestart=True      ; ç¨‹åºå¼‚å¸¸é€€å‡ºåè‡ªåŠ¨é‡å¯
# autostart=True        ; åœ¨ supervisord å¯åŠ¨çš„æ—¶å€™ä¹Ÿè‡ªåŠ¨å¯åŠ¨
redirect_stderr=True  ; æŠŠ stderr é‡å®šå‘åˆ° stdoutï¼Œé»˜è®¤ false
# environment=PATH="/home/app_env/bin"  ; å¯ä»¥é€šè¿‡ environment æ¥æ·»åŠ éœ€è¦çš„ç¯å¢ƒå˜é‡ï¼Œä¸€ç§å¸¸è§çš„ç”¨æ³•æ˜¯ä½¿ç”¨æŒ‡å®šçš„ virtualenv ç¯å¢ƒ
command=gunicorn -c gunicorn.config.py main:app  ; å¯åŠ¨å‘½ä»¤ï¼Œä¸æ‰‹åŠ¨åœ¨å‘½ä»¤è¡Œå¯åŠ¨çš„å‘½ä»¤æ˜¯ä¸€æ ·çš„
# user=ubuntu           ; ç”¨å“ªä¸ªç”¨æˆ·å¯åŠ¨
# directory=/home/app/  ; ç¨‹åºçš„å¯åŠ¨ç›®å½•
stdout_logfile_maxbytes = 20MB  ; stdout æ—¥å¿—æ–‡ä»¶å¤§å°ï¼Œé»˜è®¤ 50MB
stdout_logfile_backups = 20     ; stdout æ—¥å¿—æ–‡ä»¶å¤‡ä»½æ•°
; stdout æ—¥å¿—æ–‡ä»¶ï¼Œéœ€è¦æ³¨æ„å½“æŒ‡å®šç›®å½•ä¸å­˜åœ¨æ—¶æ— æ³•æ­£å¸¸å¯åŠ¨ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨åˆ›å»ºç›®å½•ï¼ˆsupervisord ä¼šè‡ªåŠ¨åˆ›å»ºæ—¥å¿—æ–‡ä»¶ï¼‰
stdout_logfile = ./logs/usercenter_stdout.log



# supervisorctl æ“ä½œ
# supervisorctl æ˜¯ supervisord çš„å‘½ä»¤è¡Œå®¢æˆ·ç«¯å·¥å…·ï¼Œä½¿ç”¨çš„é…ç½®å’Œ supervisord ä¸€æ ·ï¼Œè¿™é‡Œå°±ä¸å†è¯´äº†ã€‚ä¸‹é¢ï¼Œä¸»è¦ä»‹ç» supervisorctl æ“ä½œçš„å¸¸ç”¨å‘½ä»¤ï¼š

# è¾“å…¥å‘½ä»¤ supervisorctl è¿›å…¥ supervisorctl çš„ shell äº¤äº’ç•Œé¢ï¼ˆè¿˜æ˜¯çº¯å‘½ä»¤è¡ŒğŸ˜“ï¼‰ï¼Œå°±å¯ä»¥åœ¨ä¸‹é¢è¾“å…¥å‘½ä»¤äº†ã€‚ï¼š

# help # æŸ¥çœ‹å¸®åŠ©
# status # æŸ¥çœ‹ç¨‹åºçŠ¶æ€
# stop program_name # å…³é—­ æŒ‡å®šçš„ç¨‹åº
# start program_name # å¯åŠ¨ æŒ‡å®šçš„ç¨‹åº
# restart program_name # é‡å¯ æŒ‡å®šçš„ç¨‹åº
# tail -f program_name # æŸ¥çœ‹ è¯¥ç¨‹åºçš„æ—¥å¿—
# update # é‡å¯é…ç½®æ–‡ä»¶ä¿®æ”¹è¿‡çš„ç¨‹åºï¼ˆä¿®æ”¹äº†é…ç½®ï¼Œé€šè¿‡è¿™ä¸ªå‘½ä»¤åŠ è½½æ–°çš„é…ç½®)
# ä¹Ÿå¯ä»¥ç›´æ¥é€šè¿‡ shell å‘½ä»¤æ“ä½œï¼š

# supervisorctl status
# supervisorctl update

[supervisord]
logfile = ./logs/supervisord.log
logfile_maxbytes = 50MB
logfile_backups=10
loglevel = info
pidfile = ./logs/supervisord.pid
# nodaemon = false
# minfds = 1024
# minprocs = 200
# umask = 022
# user = chrism
# identifier = supervisor
# directory = /tmp
# nocleanup = true
# childlogdir = /tmp
# strip_ansi = false
# environment = KEY1="value1",KEY2="value2"

[inet_http_server]
port = 127.0.0.1:9001

[rpcinterface:supervisor]
supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface