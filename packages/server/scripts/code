class Solution:
    def minimumDeletions(self, s: str) -> int:
        acnt = sum(c == 'a' for c in s)
        bcnt = 0
        res = min(acnt, sum(c == 'b' for c in s))
        n = len(s)
        for i in range(n):
            c = s[i]
            res = min(res, acnt + bcnt)
            if c == 'a':
                acnt -= 1
            elif c == 'b':
                bcnt += 1
        return res