class Solution:
    def bestClosingTime(self, customers: str) -> int:
        rycnt = sum(v == 'Y' for v in customers) 
        rncnt = sum(v == 'N' for v in customers) 
        res_index = len(customers)
        res = rncnt
        lycnt = lncnt = 0
        for i, v in enumerate(customers):
            next_res = lncnt + rycnt
            if next_res < res or next_res == res and i < res_index:
                res = next_res
                res_index = i
            if v == 'Y':
                lycnt += 1
                rycnt -= 1
            else:
                lncnt += 1
                rncnt -= 1
        return res_index