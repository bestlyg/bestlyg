def validate(board: List[List[str]], si: int, sj: int, ei: int, ej: int) -> bool:
    s = set()
    for i in range(si, ei):
        for j in range(sj, ej):
            if board[i][j] != '.':
                if board[i][j] in s:
                    return False
                else:
                    s.add(board[i][j])
    return True

N = 9

class Solution:
    def isValidSudoku(self, board: List[List[str]]) -> bool:
        for i in range(N):
            if not validate(board, i, 0, i + 1, N):
                return False
        for j in range(N):
            if not validate(board, 0, j, N, j + 1):
                return False
        for i in range(0, N, 3):
            for j in range(0, N, 3):
                if not validate(board, i, j, i + 3, j + 3):
                    return False
        return True