class Solution:
    def findMaxForm(self, strs: List[str], m: int, n: int) -> int:
        @cache
        def dfs(idx: int, m: int, n: int) -> int:
            if m < 0 or n < 0: return -inf
            if idx >= len(strs): return 0
            return max(
                dfs(idx + 1, m, n),
                dfs(idx + 1, m - strs[idx].count('0'), n - strs[idx].count('1')) + 1
            )
        return dfs(0, m, n)