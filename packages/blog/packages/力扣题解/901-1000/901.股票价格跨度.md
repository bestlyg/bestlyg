---
title: 901. 股票价格跨度
order: 901
nav:
  title: 力扣题解
  path: /leetcode
  order: 4
group:
  title: 901-1000
  path: /901-1000
  order: 901
---

# 901. 股票价格跨度

> 链接：[901. 股票价格跨度](https://leetcode-cn.com/problems/online-stock-span/)  
> 难度：中等  
> 标签：栈、设计、数据流、单调栈  
> 简介：编写一个 StockSpanner 类，它收集某些股票的每日报价，并返回该股票当日价格的跨度。

## 题解 1 - typescript

- 编辑时间：2021.07.19
- 执行用时：372ms
- 内存消耗：48.4MB
- 编程语言：typescript
- 解法介绍：单调递减栈，寻找前一个比当前值大的值。

```typescript
class StockSpanner {
  private arr: number[] = [];
  private stack: number[] = [];
  next(price: number): number {
    const i = this.arr.length;
    this.arr.push(price);
    while (this.stack.length && price >= this.arr[this.stack[this.stack.length - 1]])
      this.stack.pop()!;
    const ans = i - (this.stack[this.stack.length - 1] ?? -1);
    this.stack.push(i);
    return ans;
  }
}
```

## 题解 2 - cpp

- 编辑时间：2022.10.21
- 执行用时：196ms
- 内存消耗：84.1MB
- 编程语言：cpp
- 解法介绍：单调栈，存储比自己大的最近节点。

```cpp
class StockSpanner {
public:
    stack<int> s;
    vector<int> list;
    StockSpanner() {
        list.push_back(0x7fffffff);
        s.push(0);
    }
    int next(int price) {
        while (list[s.top()] <= price) s.pop();
        int res = list.size() - s.top();
        s.push(list.size());
        list.push_back(price);
        return res;
    }
};
```
