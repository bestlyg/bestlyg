---
title: 611. 有效三角形的个数
order: 611
nav:
  title: 力扣题解
  path: /leetcode
  order: 4
group:
  title: 601-700
  path: /601-700
  order: 601
---

# 611. 有效三角形的个数

> 链接：[611. 有效三角形的个数](https://leetcode-cn.com/problems/valid-triangle-number/)  
> 难度：中等  
> 标签：贪心、数组、双指针、二分查找、排序  
> 简介：给定一个包含非负整数的数组，你的任务是统计其中可以组成三角形三条边的三元组个数。

## 题解 1 - typescript

- 编辑时间：2021.08.04
- 执行用时：2844ms
- 内存消耗：39.7mb
- 编程语言：typescript
- 解法介绍：三次循环。

```typescript
function triangleNumber(nums: number[]): number {
  nums.sort((a, b) => a - b);
  const n = nums.length;
  let ans = 0;
  for (let l1 = 0; l1 < n; l1++) {
    const n1 = nums[l1];
    for (let l2 = l1 + 1; l2 < n; l2++) {
      const n2 = nums[l2];
      for (let l3 = l2 + 1; l3 < n; l3++) {
        const n3 = nums[l3];
        if (n1 + n2 > n3 && n1 + n3 > n2 && n2 + n3 + n1) ans++;
      }
    }
  }
  return ans;
}
```

## 题解 2 - typescript

- 编辑时间：2021.08.04
- 执行用时：335ms
- 内存消耗：40.5mb
- 编程语言：typescript
- 解法介绍：二次循环+二分。

```typescript
function triangleNumber(nums: number[]): number {
  nums.sort((a, b) => a - b);
  nums.push(Infinity);
  const n = nums.length;
  let ans = 0;
  for (let l1 = 0; l1 < n; l1++) {
    const n1 = nums[l1];
    for (let l2 = l1 + 1; l2 < n - 1; l2++) {
      const n2 = nums[l2];
      const l3 = bs(l2 + 1, n - 1, n1, n2);
      if (l3 !== l2) ans += l3 - l2;
    }
  }
  return ans;
  function bs(left: number, right: number, n1: number, n2: number): number {
    while (left < right) {
      const mid = (left + right) >> 1;
      if (nums[mid] + n1 > n2 && nums[mid] + n2 > n1 && n1 + n2 > nums[mid]) {
        left = mid + 1;
      } else {
        right = mid;
      }
    }
    return left - 1;
  }
}
```
