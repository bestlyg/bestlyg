---
title: 494. 目标和
order: 494
nav:
  title: 力扣题解
  path: /leetcode
  order: 4
group:
  title: 401-500
  path: /401-500
  order: 401
---

# 494. 目标和
    
> 链接：[494. 目标和](https://leetcode-cn.com/problems/target-sum/)  
> 难度：中等  
> 标签：动态规划、深度优先搜索  
> 简介：给你一个整数数组 nums 和一个整数 target 。返回可以通过上述方法构造的、运算结果等于 target 的不同 表达式 的数目。
      
## 题解 1 - typescript
- 编辑时间：2021.06.07
- 执行用时：6868ms
- 内存消耗：93.7mb
- 编程语言：typescript
- 解法介绍：回溯。
```typescript
function findTargetSumWays(nums: number[], target: number): number {
        const len = nums.length;
        const ans: number[] = [];
        let val = 0;
        const findNext = (index = 0): void => {
          if (index === len) {
            ans.push(val);
            return;
          }
          val += nums[index];
          findNext(index + 1);
          val -= nums[index];
          val -= nums[index];
          findNext(index + 1);
          val += nums[index];
        };
        findNext();
        return ans.filter(v => v === target).length;
      }
```

      ## 题解 2 - typescript
- 编辑时间：2021.06.08
- 执行用时：116ms
- 内存消耗：42.2mb
- 编程语言：typescript
- 解法介绍：(sum-target)/2=neg,target必为非负整数。
```typescript
function findTargetSumWays(nums: number[], target: number): number {
        const sum = nums.reduce((total, cur) => total + cur, 0);
        if (target > sum || (sum - target) & 1) return 0;
        const neg = (sum - target) >> 1;
        const len = nums.length;
        const dp = new Array(len + 1).fill(0).map(_ => new Array(neg + 1).fill(0));
        dp[0][0] = 1;
        for (let i = 1; i <= len; i++) {
          const num = nums[i - 1];
          for (let j = 0; j <= neg; j++) {
            dp[i][j] = dp[i - 1][j];
            if (j >= num) dp[i][j] += dp[i - 1][j - num];
          }
        }
        return dp[len][neg];
      }
```
