class Solution:
    def numberOfArrays(self, differences: List[int], lower: int, upper: int) -> int:
        cur = nmin = nmax = 0
        for d in differences:
            cur += d
            nmin = min(nmin, cur)
            nmax = max(nmax, cur)
            if nmax - nmin > upper - lower: return 0
        return (upper - lower) - (nmax - nmin) + 1