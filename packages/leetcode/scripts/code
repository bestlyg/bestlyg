class Solution:
    def productQueries(self, n: int, queries: List[List[int]]) -> List[int]:
        mod = 10 ** 9 + 7
        arr = [1 << i for i in range(32) if n & (1 << i)]
        sums = [1]
        for num in arr:
            sums.append(num * sums[-1])
        return [sums[end + 1] // sums[start] % mod for start, end in queries]