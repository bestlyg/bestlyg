from sortedcontainers import SortedList
class MyCalendar:
    def __init__(self):
        self.list = SortedList()
    def book(self, startTime: int, endTime: int) -> bool:
        idx = self.list.bisect_left((startTime, endTime))
        if idx - 1 >= 0 and self.list[idx - 1][1] > startTime: return False
        if idx < len(self.list) and self.list[idx][0] < endTime: return False
        self.list.add((startTime, endTime))
        return True