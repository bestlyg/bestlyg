---
title: 常见函数手写
order: 1
nav:
  title: 数据结构
  path: /data-structures
  order: 2
group:
  title: 手写JavaScript
  path: /javascript
  order: 1
---

# 常见函数手写

## 防抖(debounce)

防止用户频繁触发，只会在最后一次触发后执行

## 节流(throttle)

防止用户频繁触发，无论何时触发，只会一定时间执行一次

## 新建对象实例(new)

手写 new 函数



## [核心代码](https://gitee.com/bestlyg/bestlyg/tree/master/packages/data-structures/src/javascript/functions.ts)
```ts
/**
 * 防抖
 */
export const debounce = (time: number) => {
  let timeout: NodeJS.Timeout;
  return (fn: (...args: any[]) => void) => {
    timeout && clearTimeout(timeout);
    timeout = setTimeout(fn, time) as any;
  };
};
/**
 * 节流
 */
export const throttle = (time: number) => {
  let run = false;
  return (fn: (...args: any[]) => void) => {
    if (run) return;
    run = true;
    setTimeout(() => {
      fn();
      run = false;
    }, time);
  };
};
/**
 * 新建对象实例
 */
export const newInstance = (fn: (...args: any[]) => any, ...args: unknown[]) => {
  const instance = Object.create(fn.prototype);
  const res = fn.apply(instance, args);
  return res instanceof Object ? res : instance;
};

```
        